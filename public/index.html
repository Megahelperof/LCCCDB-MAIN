<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barcode Scanner</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="manifest" type="application/json" href="/manifest.webmanifest" />
</head>

<body>
<main id="main">
    <div class="loading-overlay">
        <div class="loading-text">LA-CONS<img src="images\logo.png" alt="O" style="vertical-align: middle; margin: 0 5px; height: 24px; width: auto;">LACION</div>
        <div class="small-text">Loading</div>
        <div class="wave-container">
            <div class="wave wave1"></div>

        </div>
    </div>

    <header class="header">
      <label class="hamburger">
        <input type="checkbox">
        <svg viewBox="0 0 32 32">
          <path class="line line-top-bottom" d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"></path>
          <path class="line" d="M7 16 27 16"></path>
        </svg>
      </label>
      <div class="logo">LA-CONS
        <img src="images/logo.png" alt="O" style="vertical-align: middle; margin: 0rem; height: 28px; width: auto">
        LACION
      </div>
    
      <div class="dropdown">
        <button class="dropdown-btn">Menu â–¼</button>
        <div class="dropdown-content">
          <div class="card">
            <ul class="list">
              <li class="element">
                <svg width="25" height="25">...</svg>
                <p class="label">Rename</p>
              </li>
              <li class="element">
                <svg width="24" height="24">...</svg>
                <p class="label">Add Member</p>
              </li>
            </ul>
            <div class="separator"></div>
            <ul class="list">
              <li class="element">
                <svg width="24" height="24">...</svg>
                <p class="label settings-button">Settings</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    
      <!-- Settings Popup -->
      <div class="settings-popup">
        <div class="settings-popup-header">
          <h2>Settings</h2>
          <button class="settings-popup-close">&times;</button>
        </div>
        <iframe src="/settings.html"></iframe>
      </div>
    </header>
    


    <div class="rain-background">
        <!-- Shapes will be added dynamically here -->
    </div>
    
    <div class="container" style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
      <button id="cameraToggle" class="scanner-toggle">Show Camera</button>
      <div class="video-section" style="display: none;">
        <video id="video" autoplay></video>
        <canvas id="canvas" style="display:none;"></canvas>
      </div>
    </div>
  
        
        <div class="content">
            <div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
              <div id="result">No barcode detected</div>
              <div id="errorMsg" style="display: none; background-color: #f8d7da; color: #721c24;">Unknown Barcode</div>
          </div>          
            <h2>Student Lookup</h2>
            <div class="search">
              <input type="text" id="studentNumber" class="search__input" placeholder="Enter Student Number">
              <button id="searchButton" class="search__button">
                <svg class="search__icon" viewBox="0 0 20 20">
                  <path fill="currentColor" d="M17.545 15.467l-3.926-3.926a6.5 6.5 0 1 0-2.078 2.078l3.926 3.926a1.5 1.5 0 1 0 2.078-2.078zM8.5 14a5.5 5.5 0 1 1 3.89-1.61A5.48 5.48 0 0 1 8.5 14z"></path>
                </svg>
              </button>
            </div>            
            <div class="student-info-container">
              <div class="container">
                  <div class="student-header">
                      <h2>Student Information</h2>
                      <div class="student-image" id="studentImage">
                          <!-- Image will be dynamically loaded -->
                      </div>
                  </div>
                  <div id="studentDetails"></div>
                  <button class="btn cancel-btn" onclick="document.querySelector('.student-info-container').style.display = 'none'">Cancel</button>
              </div>
          </div>
          </div>
        </div>
    </div>
    <body>
      <div id="tokenModal">
          <div id="modalContents">
              <h2>Enter Token</h2>
              <input type="text" 
                     id="tokenInput" 
                     maxlength="4" 
                     placeholder="4-Digit Token" 
                     autocomplete="off"
                     pattern="[0-9]*" />
              <button id="submitToken">Submit</button>
              <p id="errorMessage"></p>
          </div>
          <h1>Made by - Shyron</h1>
      </div>
      <div class="container">
      <div id="violationContainer" style="
      display: grid; 
      grid-template-columns: repeat(4, 1fr); 
      grid-template-rows: auto auto; 
      gap: 10px; 
      justify-content: center; 
      max-width: 300px; 
      margin: auto;">
  </div>
  
    

    </div>


    <div id="notification"></div>

</main>
  <!-- Include the jsQR library via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.3.1/dist/jsQR.js"></script>
  
  <!-- Include the QuaggaJS library via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/quagga@0.12.1/dist/quagga.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
  </script>
  
  <!-- Remove the duplicate script tags and replace with: -->
   <script src="config.js"></script>

</body>
</html>
